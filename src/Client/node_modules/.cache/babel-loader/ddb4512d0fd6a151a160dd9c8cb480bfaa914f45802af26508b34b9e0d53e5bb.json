{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useLocation}from\"react-router-dom\";import{useNavigate}from\"react-router-dom\";import{AnimatePresence,motion}from\"framer-motion\";import{useTranslation}from\"react-i18next\";import socket from\"../socket\";import QuestPopup from\"../components/ui/QuestPopup\";import Modals from\"../components/ui/Modals\";import QuestVote from\"../components/ui/QuestVote\";import PhaseResult from\"../components/ui/PhaseResult\";import GameOver from\"../components/ui/GameOver\";import WaitScreen from\"../components/ui/WaitScreen\";import AnimatedWindow from\"../components/ui/Info\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Game(){var _location$state;// Loc, roomSessionKey\nconst location=useLocation();const navigate=useNavigate();const{name}=location.state||{};const{t}=useTranslation();const roomSessionKey=sessionStorage.getItem(\"roomSessionKey\");const playerSessionKey=sessionStorage.getItem(\"playerSessionKey\");// Show elements\nconst[showVoteModal,setShowVoteModal]=useState(false);const[showLeaderVoteModal,setShowLeaderVoteModal]=useState(false);const[showQuestVoteModal,setShowQuestVoteModal]=useState(false);const[showLeaderVoteButton,setShowLeaderVoteButton]=useState(false);const[showQuestVoteButton,setShowQuestVoteButton]=useState(false);const[showPlayersVote,setShowPlayersVote]=useState(true);const[showQuestVoting,setShowQuestVoting]=useState(false);const[showResultScreen,setShowResultScreen]=useState(false);const[showGameOver,setShowGameOver]=useState(false);const[showExit,setShowExit]=useState(false);const[showWaitScreen,setShowWaitScreen]=useState(false);const[hasVoted,setHasVoted]=useState(false);// Arrays\nconst[players,setPlayers]=useState([]);const[selectedPlayers,setSelectedPlayers]=useState([]);const[phaseResults,setPhaseResults]=useState([]);const[character,setCharacter]=useState(null);const[leaderVotedPlayers,setLeaderVotedPlayers]=useState([]);const[finalTeamSuggestions,setFinalTeamSuggestions]=useState([]);const[finalPhaseResults,setFinalPhaseResult]=useState([]);const[finalVoteResults,setFinalVoteResults]=useState({});const[totalTeamSize,setTotalTeamSize]=useState([]);const[gameCharacters,setGameCharacters]=useState([]);// Others\nconst[roundLeaderId,setRoundLeaderId]=useState();const[round,setRound]=useState(1);const[phase,setPhase]=useState(1);const[missionTeamSizes,setMissionTeamSizes]=useState(1);const[gameResult,setGameResult]=useState(\"\");// Assigne Roles to players\nuseEffect(()=>{socket.on(\"character_assigned\",_ref=>{let{character,players,gameCharacters}=_ref;setCharacter(character);setPlayers(players);setGameCharacters(gameCharacters);});return()=>socket.off(\"character_assigned\");},[]);// Update the room parameters\nuseEffect(()=>{socket.on(\"round_update\",_ref2=>{let{roundLeader,round,phase,missionTeamSizes,totalTeamSize}=_ref2;setRoundLeaderId(roundLeader);setRound(round);setSelectedPlayers([]);setFinalTeamSuggestions([]);setLeaderVotedPlayers([]);setTotalTeamSize(totalTeamSize);setMissionTeamSizes(missionTeamSizes);setShowPlayersVote(true);setHasVoted(false);if(phase)setPhase(phase);});return()=>socket.off(\"round_update\");},[]);// Players voted the players for next quest\nuseEffect(()=>{socket.on(\"team_voted\",_ref3=>{let{success,team,votes}=_ref3;setSelectedPlayers([]);setShowLeaderVoteButton(true);setFinalTeamSuggestions(team);setHasVoted(false);});return()=>socket.off(\"team_voted\");},[]);// Leader selected players for next quest\nuseEffect(()=>{socket.on(\"leader_voted\",_ref4=>{let{votedPlayers}=_ref4;setLeaderVotedPlayers(votedPlayers);setShowQuestVoteButton(true);setShowLeaderVoteButton(false);});return()=>socket.off(\"leader_voted\");},[]);// Players voted to procceed to quest\nuseEffect(()=>{socket.on(\"quest_voted\",_ref5=>{let{result,votes}=_ref5;setTimeout(()=>{if(result!==\"success\"){setShowPlayersVote(true);socket.emit(\"next_round\",{roomSessionKey,playerSessionKey});}},1000);});return()=>socket.off(\"quest_voted\");},[roomSessionKey,leaderVotedPlayers,playerSessionKey]);// Selected Players on the quest\nuseEffect(()=>{socket.on(\"inform_players_to_vote\",_ref6=>{let{votedPlayers,waitPlayers}=_ref6;setShowPlayersVote(false);setShowQuestVoteButton(false);if(votedPlayers.includes(playerSessionKey)){setShowQuestVoting(true);}if(waitPlayers.includes(playerSessionKey)){setShowWaitScreen(true);}});return()=>socket.off(\"inform_players_to_vote\");},[playerSessionKey,players]);// Announce the quest result\nuseEffect(()=>{socket.on(\"inform_result\",_ref7=>{let{result,success,fail}=_ref7;setPhaseResults(prev=>[...prev,result]);setFinalPhaseResult(prev=>[...prev,result]);setFinalVoteResults({success:success,fail:fail});setShowWaitScreen(false);setShowResultScreen(true);});return()=>socket.off(\"inform_result\");},[finalPhaseResults,finalVoteResults.fail,finalVoteResults.success,phase]);// Game over\nuseEffect(()=>{socket.on(\"game_over\",_ref8=>{let{result,goodWins,evilWins}=_ref8;setShowGameOver(true);setGameResult(result);});return()=>socket.off(\"game_over\");},[]);// Game over\nuseEffect(()=>{socket.on(\"exit_to_home\",()=>{sessionStorage.removeItem(\"roomSessionKey\");sessionStorage.removeItem(\"playerSessionKey\");navigate(\"/\",{state:{name}});});return()=>socket.off(\"exit_to_home\");},[name,navigate]);if(!character){return/*#__PURE__*/_jsx(AnimatePresence,{children:/*#__PURE__*/_jsx(motion.div,{className:\"flex items-center justify-center h-screen bg-gray-900 text-white\",style:{backgroundImage:\"url(/images/haunted-house-gothic-style.jpg)\",backgroundSize:\"cover\",backgroundPosition:\"center\"},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:0.8},children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl\",children:t(\"game.waitingForCharacter\")})})});}const isLeader=playerSessionKey===roundLeaderId;return/*#__PURE__*/_jsx(AnimatePresence,{children:/*#__PURE__*/_jsxs(motion.div,{className:\"relative min-h-screen w-full bg-gray-900 text-white p-2 sm:p-4\",style:{backgroundImage:\"url(/images/mythical.jpg      )\",backgroundSize:\"cover\",backgroundPosition:\"center\"},initial:{opacity:0,scale:0.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:0.95,y:20},transition:{duration:0.8,ease:\"easeInOut\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/Sabotage3.png\",alt:\"Leader\",className:\"w-[30%] mb-10\",onError:e=>e.target.src=\"/images/default.jpg\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative z-10 block md:hidden space-y-4 \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex justify-start items-center h-16 w-full px-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute left-2 \",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowExit(true),className:\"px-4 py-2  bg-gradient-to-r bg-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-500 transition rounded-md font-bold\",children:t(\"game.exit\")})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute left-1/2 transform -translate-x-1/2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-slate-900 via-slate-700 to-slate-900 rounded-lg p-3 text-center\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-center font-semibold mb-2\",children:[t(\"game.phase\"),\" \",phase,\" - \",t(\"game.round\"),\" \",round]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center gap-2\",children:[1,2,3,4,5].map(phaseNum=>{let circleColor=\"bg-gray-600\";if(phaseNum===phase){circleColor=\"bg-purple-700\";}else if(phaseNum<phase){const result=phaseResults[phaseNum-1];circleColor=result===\"success\"?\"bg-amber-500\":\"bg-red-500\";}return/*#__PURE__*/_jsx(\"div\",{className:\"w-6 h-6 rounded-full \".concat(circleColor,\" flex items-center justify-center text-white text-xs font-bold\"),children:phaseNum},phaseNum);})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute right-2\",children:/*#__PURE__*/_jsx(AnimatedWindow,{triggerLabel:t(\"game.menu\"),totalTeamSize:totalTeamSize,gameCharacters:gameCharacters})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-slate-900 via-slate-700 to-slate-900 rounded-lg mx-auto text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center mb-2\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold pt-2\",children:name}),isLeader&&/*#__PURE__*/_jsx(\"img\",{src:\"/images/Crown.jpg\",alt:\"Leader\",className:\"w-6 h-5 mt-1 ml-2\",onError:e=>e.target.src=\"/images/default.jpg\"})]}),/*#__PURE__*/_jsx(\"img\",{src:\"/images/\".concat(character.name.toLowerCase().replace(/\\s+/g,\"_\"),\".png\"),alt:character.name,className:\"max-w-40 mx-auto mb-2 ml-3 mr-3\",onError:e=>e.target.src=\"/images/default.jpg\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-yellow-400\",children:character.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-300 mb-1\",children:t(\"characters.descriptions.\".concat(character.name))}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs pb-2\",children:[t(\"game.team\"),\":\",\" \",/*#__PURE__*/_jsx(\"span\",{className:character.team===\"good\"?\"text-blue-400\":\"text-red-400\",children:character.team===\"good\"?t(\"game.good\"):t(\"game.evil\")})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 rounded-lg w-11/12 p-3 mx-auto text-center\",style:{gridTemplateColumns:\"1fr 1fr auto\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 text-white font-bold mb-3 border-b border-gray-600 pb-2 text-sm\",style:{gridTemplateColumns:\"1fr 1fr auto\"},children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:t(\"lobby.players\")}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-center mr-3\",children:t(\"game.role\")}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-center mr-1\",children:\"L\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-3 gap-y-2 text-xs text-gray-300\",style:{gridTemplateColumns:\"1fr 1fr auto\"},children:players.map(player=>/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:player.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mr-2\",children:player.visibleRole===\"evil\"?\"Evil\":player.visibleRole===\"Seer/Seraphina\"?\"S/S\":\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:player.playerSessionKey===roundLeaderId&&/*#__PURE__*/_jsx(\"img\",{src:\"/images/Crown.jpg\",alt:\"Leader\",className:\"w-4 h-4 mx-auto\",onError:e=>e.target.src=\"/images/default.jpg\"})})]},player.playerSessionKey))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-4\",children:[showPlayersVote&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowVoteModal(true),disabled:hasVoted,className:\"w-full rounded-lg p-3 mb-2 text-white \".concat(hasVoted?\"bg-gray-600 cursor-not-allowed\":\"bg-amber-600 hover:bg-amber-700\"),children:hasVoted?t(\"game.waitForOtherPlayers\"):t(\"game.voteForQuestTeam\")}),showQuestVoteButton&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowQuestVoteModal(true),className:\"w-full bg-amber-600 hover:bg-amber-700 text-white rounded-lg p-3 mb-2\",children:t(\"game.proceedToQuest\")}),isLeader&&showLeaderVoteButton&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowLeaderVoteModal(true),className:\"w-full bg-amber-600 hover:bg-amber-700 text-white rounded-lg p-3\",children:t(\"game.leaderVote\")})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden md:block relative h-[70vh]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-slate-900 via-slate-700 to-slate-900  rounded-lg p-4 text-center absolute left-[5%] w-[25%] max-w-sm top-1/2 transform -translate-y-1/2\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-3\",children:[t(\"game.phase\"),\" \",phase,\" - \",t(\"game.round\"),\" \",round]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center gap-2\",children:[1,2,3,4,5].map(phaseNum=>{let circleColor=\"bg-gray-600\";if(phaseNum===phase){circleColor=\"bg-yellow-500\";}else if(phaseNum<phase){const result=phaseResults[phaseNum-1];circleColor=result===\"success\"?\"bg-blue-500\":\"bg-red-500\";}return/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full \".concat(circleColor,\" flex items-center justify-center text-white text-sm font-bold\"),children:phaseNum},phaseNum);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-lg p-6 text-center absolute left-[41%] w-[18%] max-w-sm top-1/2 transform -translate-y-1/2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl\",children:(_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.name}),isLeader&&/*#__PURE__*/_jsx(\"img\",{src:\"/images/Crown.jpg\",alt:\"Leader\",className:\"w-6 h-6 ml-2\",onError:e=>e.target.src=\"/images/default.jpg\"})]}),/*#__PURE__*/_jsx(\"img\",{src:\"/images/\".concat(character.name.toLowerCase().replace(/\\s+/g,\"_\"),\".png\"),alt:character.name,className:\"w-full max-w-[200px] mx-auto\",onError:e=>e.target.src=\"/images/default.jpg\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-yellow-400\",children:character.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 mt-2\",children:character.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm mt-2\",children:[t(\"game.team\"),\":\",\" \",/*#__PURE__*/_jsx(\"span\",{className:character.team===\"good\"?\"text-blue-400\":\"text-red-400\",children:character.team===\"good\"?t(\"game.good\"):t(\"game.evil\")})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-lg p-4 text-center absolute left-[70%] w-[25%] max-w-sm top-1/2 transform -translate-y-1/2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 text-white font-bold mb-4 border-b border-gray-600 pb-2\",children:[/*#__PURE__*/_jsx(\"h3\",{children:t(\"lobby.players\")}),/*#__PURE__*/_jsx(\"h3\",{children:\"Role\"}),/*#__PURE__*/_jsx(\"h3\",{children:t(\"lobby.leader\")})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-3 gap-y-3 text-sm text-gray-300\",children:players.map(player=>/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:player.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:player.visibleRole===\"evil\"?\"Evil\":player.visibleRole===\"Merlin/Morgana\"?\"Merlin/Morgana\":\"\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:player.playerSessionKey===roundLeaderId&&/*#__PURE__*/_jsx(\"img\",{src:\"/images/Crown.jpg\",alt:\"Leader\",className:\"w-[20px] h-auto mx-auto\",onError:e=>e.target.src=\"/images/default.jpg\"})})]},player.playerSessionKey))})]})]}),/*#__PURE__*/_jsx(QuestPopup,{players:players,finalTeamSuggestions:finalTeamSuggestions,leaderVotedPlayers:leaderVotedPlayers,isLeader:isLeader}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden md:block fixed bottom-4 left-1/2 transform -translate-x-1/2 w-full max-w-xs px-4\",children:[showPlayersVote&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowVoteModal(true),disabled:hasVoted,className:\"w-full rounded-lg p-3 mb-2 text-white \".concat(hasVoted?\"bg-gray-600 cursor-not-allowed\":\"bg-amber-600 hover:bg-amber-700\"),children:hasVoted?t(\"game.waitForOtherPlayers\"):t(\"game.voteForQuestTeam\")}),showQuestVoteButton&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowQuestVoteModal(true),className:\"w-full bg-amber-600 hover:bg-amber-700 text-white rounded-lg p-3 mb-2\",children:t(\"game.proceedToQuest\")}),isLeader&&showLeaderVoteButton&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowLeaderVoteModal(true),className:\"w-full bg-amber-600 hover:bg-amber-700 text-white rounded-lg p-3\",children:t(\"game.leaderVote\")})]}),showVoteModal&&/*#__PURE__*/_jsx(Modals,{roomSessionKey:roomSessionKey,playerSessionKey:playerSessionKey,setSelectedPlayers:setSelectedPlayers,selectedPlayers:selectedPlayers,setShowVoteModal:setShowVoteModal,setShowPlayersVote:setShowPlayersVote,ShowVoteModal:showVoteModal,players:players,type:\"voteAll\",missionTeamSizes:missionTeamSizes}),showLeaderVoteModal&&/*#__PURE__*/_jsx(Modals,{roomSessionKey:roomSessionKey,playerSessionKey:playerSessionKey,setSelectedPlayers:setSelectedPlayers,selectedPlayers:selectedPlayers,setShowVoteModal:setShowVoteModal,setShowPlayersVote:setShowPlayersVote,setShowLeaderVoteModal:setShowLeaderVoteModal,showLeaderVoteModal:showLeaderVoteModal,setShowQuestVoteButton:setShowQuestVoteButton,players:players,type:\"leaderVote\",missionTeamSizes:missionTeamSizes}),showQuestVoteModal&&/*#__PURE__*/_jsx(Modals,{roomSessionKey:roomSessionKey,playerSessionKey:playerSessionKey,leaderVotedPlayers:leaderVotedPlayers,setShowQuestVoteButton:setShowQuestVoteButton,setShowQuestVoteModal:setShowQuestVoteModal,showQuestVoteModal:showQuestVoteModal,type:\"questVote\"}),showQuestVoting&&/*#__PURE__*/_jsx(QuestVote,{setShowQuestVoting:setShowQuestVoting,roomSessionKey:roomSessionKey,playerSessionKey:playerSessionKey,show:showQuestVoting,phase:phase}),showResultScreen&&/*#__PURE__*/_jsx(PhaseResult,{votes:finalVoteResults,setShowResultScreen:setShowResultScreen,show:showResultScreen,roomSessionKey:roomSessionKey,playerSessionKey:playerSessionKey}),showGameOver&&/*#__PURE__*/_jsx(GameOver,{roomSessionKey:roomSessionKey,winner:gameResult}),showExit&&/*#__PURE__*/_jsx(Modals,{roomSessionKey:roomSessionKey,playerSessionKey:playerSessionKey,players:players,setShowExit:setShowExit,showExit:showExit,type:\"exit\"}),showWaitScreen&&/*#__PURE__*/_jsx(WaitScreen,{roomSessionKey:roomSessionKey,leaderVotedPlayers:leaderVotedPlayers,setShowWaitScreen:setShowWaitScreen})]})});}export default Game;","map":{"version":3,"names":["React","useEffect","useState","useLocation","useNavigate","AnimatePresence","motion","useTranslation","socket","QuestPopup","Modals","QuestVote","PhaseResult","GameOver","WaitScreen","AnimatedWindow","jsx","_jsx","jsxs","_jsxs","Game","_location$state","location","navigate","name","state","t","roomSessionKey","sessionStorage","getItem","playerSessionKey","showVoteModal","setShowVoteModal","showLeaderVoteModal","setShowLeaderVoteModal","showQuestVoteModal","setShowQuestVoteModal","showLeaderVoteButton","setShowLeaderVoteButton","showQuestVoteButton","setShowQuestVoteButton","showPlayersVote","setShowPlayersVote","showQuestVoting","setShowQuestVoting","showResultScreen","setShowResultScreen","showGameOver","setShowGameOver","showExit","setShowExit","showWaitScreen","setShowWaitScreen","hasVoted","setHasVoted","players","setPlayers","selectedPlayers","setSelectedPlayers","phaseResults","setPhaseResults","character","setCharacter","leaderVotedPlayers","setLeaderVotedPlayers","finalTeamSuggestions","setFinalTeamSuggestions","finalPhaseResults","setFinalPhaseResult","finalVoteResults","setFinalVoteResults","totalTeamSize","setTotalTeamSize","gameCharacters","setGameCharacters","roundLeaderId","setRoundLeaderId","round","setRound","phase","setPhase","missionTeamSizes","setMissionTeamSizes","gameResult","setGameResult","on","_ref","off","_ref2","roundLeader","_ref3","success","team","votes","_ref4","votedPlayers","_ref5","result","setTimeout","emit","_ref6","waitPlayers","includes","_ref7","fail","prev","_ref8","goodWins","evilWins","removeItem","children","div","className","style","backgroundImage","backgroundSize","backgroundPosition","initial","opacity","animate","exit","transition","duration","isLeader","scale","y","ease","src","alt","onError","e","target","onClick","map","phaseNum","circleColor","concat","triggerLabel","toLowerCase","replace","gridTemplateColumns","player","Fragment","visibleRole","disabled","description","ShowVoteModal","type","show","winner"],"sources":["C:/Users/ntalg/Documents/NTALLAS_GEORGIOS_DOCUMENTS/PROJECTS/Sabotage/Sabotage/src/client/src/pages/Game.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport { AnimatePresence, motion } from \"framer-motion\";\nimport { useTranslation } from \"react-i18next\";\n\nimport socket from \"../socket\";\nimport QuestPopup from \"../components/ui/QuestPopup\";\nimport Modals from \"../components/ui/Modals\";\nimport QuestVote from \"../components/ui/QuestVote\";\nimport PhaseResult from \"../components/ui/PhaseResult\";\nimport GameOver from \"../components/ui/GameOver\";\nimport WaitScreen from \"../components/ui/WaitScreen\";\nimport AnimatedWindow from \"../components/ui/Info\";\n\nfunction Game() {\n  // Loc, roomSessionKey\n  const location = useLocation();\n  const navigate = useNavigate();\n  const { name } = location.state || {};\n  const { t } = useTranslation();\n  const roomSessionKey = sessionStorage.getItem(\"roomSessionKey\");\n  const playerSessionKey = sessionStorage.getItem(\"playerSessionKey\");\n  // Show elements\n  const [showVoteModal, setShowVoteModal] = useState(false);\n  const [showLeaderVoteModal, setShowLeaderVoteModal] = useState(false);\n  const [showQuestVoteModal, setShowQuestVoteModal] = useState(false);\n  const [showLeaderVoteButton, setShowLeaderVoteButton] = useState(false);\n  const [showQuestVoteButton, setShowQuestVoteButton] = useState(false);\n  const [showPlayersVote, setShowPlayersVote] = useState(true);\n  const [showQuestVoting, setShowQuestVoting] = useState(false);\n  const [showResultScreen, setShowResultScreen] = useState(false);\n  const [showGameOver, setShowGameOver] = useState(false);\n  const [showExit, setShowExit] = useState(false);\n  const [showWaitScreen, setShowWaitScreen] = useState(false);\n  const [hasVoted, setHasVoted] = useState(false);\n  // Arrays\n  const [players, setPlayers] = useState([]);\n  const [selectedPlayers, setSelectedPlayers] = useState([]);\n  const [phaseResults, setPhaseResults] = useState([]);\n  const [character, setCharacter] = useState(null);\n  const [leaderVotedPlayers, setLeaderVotedPlayers] = useState([]);\n  const [finalTeamSuggestions, setFinalTeamSuggestions] = useState([]);\n  const [finalPhaseResults, setFinalPhaseResult] = useState([]);\n  const [finalVoteResults, setFinalVoteResults] = useState({});\n  const [totalTeamSize, setTotalTeamSize] = useState([]);\n  const [gameCharacters, setGameCharacters] = useState([]);\n  // Others\n  const [roundLeaderId, setRoundLeaderId] = useState();\n  const [round, setRound] = useState(1);\n  const [phase, setPhase] = useState(1);\n  const [missionTeamSizes, setMissionTeamSizes] = useState(1);\n  const [gameResult, setGameResult] = useState(\"\");\n\n  // Assigne Roles to players\n  useEffect(() => {\n    socket.on(\n      \"character_assigned\",\n      ({ character, players, gameCharacters }) => {\n        setCharacter(character);\n        setPlayers(players);\n        setGameCharacters(gameCharacters);\n      }\n    );\n    return () => socket.off(\"character_assigned\");\n  }, []);\n\n  // Update the room parameters\n  useEffect(() => {\n    socket.on(\n      \"round_update\",\n      ({ roundLeader, round, phase, missionTeamSizes, totalTeamSize }) => {\n        setRoundLeaderId(roundLeader);\n        setRound(round);\n        setSelectedPlayers([]);\n        setFinalTeamSuggestions([]);\n        setLeaderVotedPlayers([]);\n        setTotalTeamSize(totalTeamSize);\n        setMissionTeamSizes(missionTeamSizes);\n        setShowPlayersVote(true);\n        setHasVoted(false);\n        if (phase) setPhase(phase);\n      }\n    );\n    return () => socket.off(\"round_update\");\n  }, []);\n\n  // Players voted the players for next quest\n  useEffect(() => {\n    socket.on(\"team_voted\", ({ success, team, votes }) => {\n      setSelectedPlayers([]);\n      setShowLeaderVoteButton(true);\n      setFinalTeamSuggestions(team);\n      setHasVoted(false);\n    });\n    return () => socket.off(\"team_voted\");\n  }, []);\n\n  // Leader selected players for next quest\n  useEffect(() => {\n    socket.on(\"leader_voted\", ({ votedPlayers }) => {\n      setLeaderVotedPlayers(votedPlayers);\n      setShowQuestVoteButton(true);\n      setShowLeaderVoteButton(false);\n    });\n    return () => socket.off(\"leader_voted\");\n  }, []);\n\n  // Players voted to procceed to quest\n  useEffect(() => {\n    socket.on(\"quest_voted\", ({ result, votes }) => {\n      setTimeout(() => {\n        if (result !== \"success\") {\n          setShowPlayersVote(true);\n          socket.emit(\"next_round\", { roomSessionKey, playerSessionKey });\n        }\n      }, 1000);\n    });\n    return () => socket.off(\"quest_voted\");\n  }, [roomSessionKey, leaderVotedPlayers, playerSessionKey]);\n\n  // Selected Players on the quest\n  useEffect(() => {\n    socket.on(\"inform_players_to_vote\", ({ votedPlayers, waitPlayers }) => {\n      setShowPlayersVote(false);\n      setShowQuestVoteButton(false);\n\n      if (votedPlayers.includes(playerSessionKey)) {\n        setShowQuestVoting(true);\n      }\n\n      if (waitPlayers.includes(playerSessionKey)) {\n        setShowWaitScreen(true);\n      }\n    });\n    return () => socket.off(\"inform_players_to_vote\");\n  }, [playerSessionKey, players]);\n\n  // Announce the quest result\n  useEffect(() => {\n    socket.on(\"inform_result\", ({ result, success, fail }) => {\n      setPhaseResults((prev) => [...prev, result]);\n      setFinalPhaseResult((prev) => [...prev, result]);\n      setFinalVoteResults({ success: success, fail: fail });\n      setShowWaitScreen(false);\n      setShowResultScreen(true);\n    });\n\n    return () => socket.off(\"inform_result\");\n  }, [\n    finalPhaseResults,\n    finalVoteResults.fail,\n    finalVoteResults.success,\n    phase,\n  ]);\n\n  // Game over\n  useEffect(() => {\n    socket.on(\"game_over\", ({ result, goodWins, evilWins }) => {\n      setShowGameOver(true);\n      setGameResult(result);\n    });\n    return () => socket.off(\"game_over\");\n  }, []);\n\n  // Game over\n  useEffect(() => {\n    socket.on(\"exit_to_home\", () => {\n      sessionStorage.removeItem(\"roomSessionKey\");\n      sessionStorage.removeItem(\"playerSessionKey\");\n      navigate(\"/\", { state: { name } });\n    });\n    return () => socket.off(\"exit_to_home\");\n  }, [name, navigate]);\n\n  if (!character) {\n    return (\n      <AnimatePresence>\n        <motion.div\n          className=\"flex items-center justify-center h-screen bg-gray-900 text-white\"\n          style={{\n            backgroundImage: \"url(/images/haunted-house-gothic-style.jpg)\",\n            backgroundSize: \"cover\",\n            backgroundPosition: \"center\",\n          }}\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n          transition={{ duration: 0.8 }}\n        >\n          <h2 className=\"text-2xl\">{t(\"game.waitingForCharacter\")}</h2>\n        </motion.div>\n      </AnimatePresence>\n    );\n  }\n\n  const isLeader = playerSessionKey === roundLeaderId;\n\n  return (\n    <AnimatePresence>\n      <motion.div\n        className=\"relative min-h-screen w-full bg-gray-900 text-white p-2 sm:p-4\"\n        style={{\n          backgroundImage: \"url(/images/mythical.jpg      )\",\n          backgroundSize: \"cover\",\n          backgroundPosition: \"center\",\n        }}\n        initial={{ opacity: 0, scale: 0.95, y: 20 }}\n        animate={{ opacity: 1, scale: 1, y: 0 }}\n        exit={{ opacity: 0, scale: 0.95, y: 20 }}\n        transition={{ duration: 0.8, ease: \"easeInOut\" }}\n      >\n        <div className=\"flex justify-center\">\n          <img\n            src=\"/images/Sabotage3.png\"\n            alt=\"Leader\"\n            className=\"w-[30%] mb-10\"\n            onError={(e) => (e.target.src = \"/images/default.jpg\")}\n          />\n        </div>\n\n        {/* Mobile Layout */}\n        <div className=\"relative z-10 block md:hidden space-y-4 \">\n          {/* Phase/Round/Exit */}\n          <div className=\"relative flex justify-start items-center h-16 w-full px-4\">\n            {/* Exit Button */}\n            <div className=\"absolute left-2 \">\n              <button\n                onClick={() => setShowExit(true)}\n                className={`px-4 py-2  bg-gradient-to-r bg-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-500 transition rounded-md font-bold`}\n              >\n                {t(\"game.exit\")}\n              </button>\n            </div>\n            <div className=\"absolute left-1/2 transform -translate-x-1/2\">\n              <div className=\"bg-gradient-to-r from-slate-900 via-slate-700 to-slate-900 rounded-lg p-3 text-center\">\n                <h3 className=\"text-center font-semibold mb-2\">\n                  {t(\"game.phase\")} {phase} - {t(\"game.round\")} {round}\n                </h3>\n                <div className=\"flex justify-center gap-2\">\n                  {[1, 2, 3, 4, 5].map((phaseNum) => {\n                    let circleColor = \"bg-gray-600\";\n                    if (phaseNum === phase) {\n                      circleColor = \"bg-purple-700\";\n                    } else if (phaseNum < phase) {\n                      const result = phaseResults[phaseNum - 1];\n                      circleColor =\n                        result === \"success\" ? \"bg-amber-500\" : \"bg-red-500\";\n                    }\n                    return (\n                      <div\n                        key={phaseNum}\n                        className={`w-6 h-6 rounded-full ${circleColor} flex items-center justify-center text-white text-xs font-bold`}\n                      >\n                        {phaseNum}\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            </div>\n            <div className=\"absolute right-2\">\n              <AnimatedWindow\n                triggerLabel={t(\"game.menu\")}\n                totalTeamSize={totalTeamSize}\n                gameCharacters={gameCharacters}\n              />\n            </div>\n          </div>\n\n          {/* Character Card */}\n          <div className=\"flex flex-row space-x-4\">\n            <div className=\"bg-gradient-to-r from-slate-900 via-slate-700 to-slate-900 rounded-lg mx-auto text-center\">\n              <div className=\"flex items-center justify-center mb-2\">\n                <h2 className=\"text-lg font-semibold pt-2\">{name}</h2>\n                {isLeader && (\n                  <img\n                    src=\"/images/Crown.jpg\"\n                    alt=\"Leader\"\n                    className=\"w-6 h-5 mt-1 ml-2\"\n                    onError={(e) => (e.target.src = \"/images/default.jpg\")}\n                  />\n                )}\n              </div>\n              <img\n                src={`/images/${character.name\n                  .toLowerCase()\n                  .replace(/\\s+/g, \"_\")}.png`}\n                alt={character.name}\n                className=\"max-w-40 mx-auto mb-2 ml-3 mr-3\"\n                onError={(e) => (e.target.src = \"/images/default.jpg\")}\n              />\n              <h3 className=\"text-lg font-bold text-yellow-400\">\n                {character.name}\n              </h3>\n              <p className=\"text-sm text-gray-300 mb-1\">\n                {t(`characters.descriptions.${character.name}`)}\n              </p>\n              <p className=\"text-xs pb-2\">\n                {t(\"game.team\")}:{\" \"}\n                <span\n                  className={\n                    character.team === \"good\" ? \"text-blue-400\" : \"text-red-400\"\n                  }\n                >\n                  {character.team === \"good\" ? t(\"game.good\") : t(\"game.evil\")}\n                </span>\n              </p>\n            </div>\n\n            {/* Players List */}\n            <div\n              className=\"bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 rounded-lg w-11/12 p-3 mx-auto text-center\"\n              style={{ gridTemplateColumns: \"1fr 1fr auto\" }}\n            >\n              <div\n                className=\"grid grid-cols-3 text-white font-bold mb-3 border-b border-gray-600 pb-2 text-sm\"\n                style={{ gridTemplateColumns: \"1fr 1fr auto\" }}\n              >\n                <h3 className=\"text-center\">{t(\"lobby.players\")}</h3>\n                <h3 className=\"text-center mr-3\">{t(\"game.role\")}</h3>\n                <h3 className=\"text-center mr-1\">L</h3>\n              </div>\n              <div\n                className=\"grid grid-cols-3 gap-y-2 text-xs text-gray-300\"\n                style={{ gridTemplateColumns: \"1fr 1fr auto\" }}\n              >\n                {players.map((player) => (\n                  <React.Fragment key={player.playerSessionKey}>\n                    <div className=\"text-center\">{player.name}</div>\n                    <div className=\"text-center mr-2\">\n                      {player.visibleRole === \"evil\"\n                        ? \"Evil\"\n                        : player.visibleRole === \"Seer/Seraphina\"\n                        ? \"S/S\"\n                        : \"\"}\n                    </div>\n                    <div className=\"text-center\">\n                      {player.playerSessionKey === roundLeaderId && (\n                        <img\n                          src=\"/images/Crown.jpg\"\n                          alt=\"Leader\"\n                          className=\"w-4 h-4 mx-auto\"\n                          onError={(e) =>\n                            (e.target.src = \"/images/default.jpg\")\n                          }\n                        />\n                      )}\n                    </div>\n                  </React.Fragment>\n                ))}\n              </div>\n            </div>\n          </div>\n\n          {/* Action Buttons - Mobile */}\n          <div className=\"px-4\">\n            {showPlayersVote && (\n              <button\n                onClick={() => setShowVoteModal(true)}\n                disabled={hasVoted}\n                className={`w-full rounded-lg p-3 mb-2 text-white ${\n                  hasVoted\n                    ? \"bg-gray-600 cursor-not-allowed\"\n                    : \"bg-amber-600 hover:bg-amber-700\"\n                }`}\n              >\n                {hasVoted\n                  ? t(\"game.waitForOtherPlayers\")\n                  : t(\"game.voteForQuestTeam\")}\n              </button>\n            )}\n            {showQuestVoteButton && (\n              <button\n                onClick={() => setShowQuestVoteModal(true)}\n                className=\"w-full bg-amber-600 hover:bg-amber-700 text-white rounded-lg p-3 mb-2\"\n              >\n                {t(\"game.proceedToQuest\")}\n              </button>\n            )}\n            {isLeader && showLeaderVoteButton && (\n              <button\n                onClick={() => setShowLeaderVoteModal(true)}\n                className=\"w-full bg-amber-600 hover:bg-amber-700 text-white rounded-lg p-3\"\n              >\n                {t(\"game.leaderVote\")}\n              </button>\n            )}\n          </div>\n        </div>\n\n        {/* Desktop Layout */}\n        <div className=\"hidden md:block relative h-[70vh]\">\n          {/* Phases - Rounds */}\n          <div className=\"bg-gradient-to-r from-slate-900 via-slate-700 to-slate-900  rounded-lg p-4 text-center absolute left-[5%] w-[25%] max-w-sm top-1/2 transform -translate-y-1/2\">\n            <h3 className=\"text-lg font-semibold mb-3\">\n              {t(\"game.phase\")} {phase} - {t(\"game.round\")} {round}\n            </h3>\n            <div className=\"flex justify-center gap-2\">\n              {[1, 2, 3, 4, 5].map((phaseNum) => {\n                let circleColor = \"bg-gray-600\";\n                if (phaseNum === phase) {\n                  circleColor = \"bg-yellow-500\";\n                } else if (phaseNum < phase) {\n                  const result = phaseResults[phaseNum - 1];\n                  circleColor =\n                    result === \"success\" ? \"bg-blue-500\" : \"bg-red-500\";\n                }\n                return (\n                  <div\n                    key={phaseNum}\n                    className={`w-8 h-8 rounded-full ${circleColor} flex items-center justify-center text-white text-sm font-bold`}\n                  >\n                    {phaseNum}\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n\n          {/* Character card */}\n          <div className=\"bg-gray-800 rounded-lg p-6 text-center absolute left-[41%] w-[18%] max-w-sm top-1/2 transform -translate-y-1/2\">\n            <div className=\"flex items-center justify-center mb-4\">\n              <h2 className=\"text-xl\">{location.state?.name}</h2>\n              {isLeader && (\n                <img\n                  src=\"/images/Crown.jpg\"\n                  alt=\"Leader\"\n                  className=\"w-6 h-6 ml-2\"\n                  onError={(e) => (e.target.src = \"/images/default.jpg\")}\n                />\n              )}\n            </div>\n            <img\n              src={`/images/${character.name\n                .toLowerCase()\n                .replace(/\\s+/g, \"_\")}.png`}\n              alt={character.name}\n              className=\"w-full max-w-[200px] mx-auto\"\n              onError={(e) => (e.target.src = \"/images/default.jpg\")}\n            />\n            <h3 className=\"text-2xl font-bold text-yellow-400\">\n              {character.name}\n            </h3>\n            <p className=\"text-gray-300 mt-2\">{character.description}</p>\n            <p className=\"text-sm mt-2\">\n              {t(\"game.team\")}:{\" \"}\n              <span\n                className={\n                  character.team === \"good\" ? \"text-blue-400\" : \"text-red-400\"\n                }\n              >\n                {character.team === \"good\" ? t(\"game.good\") : t(\"game.evil\")}\n              </span>\n            </p>\n          </div>\n\n          {/* Player List */}\n          <div className=\"bg-gray-800 rounded-lg p-4 text-center absolute left-[70%] w-[25%] max-w-sm top-1/2 transform -translate-y-1/2\">\n            <div className=\"grid grid-cols-3 text-white font-bold mb-4 border-b border-gray-600 pb-2\">\n              <h3>{t(\"lobby.players\")}</h3>\n              <h3>Role</h3>\n              <h3>{t(\"lobby.leader\")}</h3>\n            </div>\n            <div className=\"grid grid-cols-3 gap-y-3 text-sm text-gray-300\">\n              {players.map((player) => (\n                <React.Fragment key={player.playerSessionKey}>\n                  <div className=\"text-center\">{player.name}</div>\n                  <div className=\"text-center\">\n                    {player.visibleRole === \"evil\"\n                      ? \"Evil\"\n                      : player.visibleRole === \"Merlin/Morgana\"\n                      ? \"Merlin/Morgana\"\n                      : \"\"}\n                  </div>\n                  <div className=\"text-center\">\n                    {player.playerSessionKey === roundLeaderId && (\n                      <img\n                        src=\"/images/Crown.jpg\"\n                        alt=\"Leader\"\n                        className=\"w-[20px] h-auto mx-auto\"\n                        onError={(e) => (e.target.src = \"/images/default.jpg\")}\n                      />\n                    )}\n                  </div>\n                </React.Fragment>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* Player and Leader Votes */}\n        <QuestPopup\n          players={players}\n          finalTeamSuggestions={finalTeamSuggestions}\n          leaderVotedPlayers={leaderVotedPlayers}\n          isLeader={isLeader}\n        />\n\n        {/* Action Buttons - Desktop*/}\n        <div className=\"hidden md:block fixed bottom-4 left-1/2 transform -translate-x-1/2 w-full max-w-xs px-4\">\n          {showPlayersVote && (\n            <button\n              onClick={() => setShowVoteModal(true)}\n              disabled={hasVoted}\n              className={`w-full rounded-lg p-3 mb-2 text-white ${\n                hasVoted\n                  ? \"bg-gray-600 cursor-not-allowed\"\n                  : \"bg-amber-600 hover:bg-amber-700\"\n              }`}\n            >\n              {hasVoted\n                ? t(\"game.waitForOtherPlayers\")\n                : t(\"game.voteForQuestTeam\")}\n            </button>\n          )}\n          {showQuestVoteButton && (\n            <button\n              onClick={() => setShowQuestVoteModal(true)}\n              className=\"w-full bg-amber-600 hover:bg-amber-700 text-white rounded-lg p-3 mb-2\"\n            >\n              {t(\"game.proceedToQuest\")}\n            </button>\n          )}\n          {isLeader && showLeaderVoteButton && (\n            <button\n              onClick={() => setShowLeaderVoteModal(true)}\n              className=\"w-full bg-amber-600 hover:bg-amber-700 text-white rounded-lg p-3\"\n            >\n              {t(\"game.leaderVote\")}\n            </button>\n          )}\n        </div>\n        {/* Voting Modal For All */}\n        {showVoteModal && (\n          <Modals\n            roomSessionKey={roomSessionKey}\n            playerSessionKey={playerSessionKey}\n            setSelectedPlayers={setSelectedPlayers}\n            selectedPlayers={selectedPlayers}\n            setShowVoteModal={setShowVoteModal}\n            setShowPlayersVote={setShowPlayersVote}\n            ShowVoteModal={showVoteModal}\n            players={players}\n            type=\"voteAll\"\n            missionTeamSizes={missionTeamSizes}\n          />\n        )}\n        {/* Voting Modal For Leader */}\n        {showLeaderVoteModal && (\n          <Modals\n            roomSessionKey={roomSessionKey}\n            playerSessionKey={playerSessionKey}\n            setSelectedPlayers={setSelectedPlayers}\n            selectedPlayers={selectedPlayers}\n            setShowVoteModal={setShowVoteModal}\n            setShowPlayersVote={setShowPlayersVote}\n            setShowLeaderVoteModal={setShowLeaderVoteModal}\n            showLeaderVoteModal={showLeaderVoteModal}\n            setShowQuestVoteButton={setShowQuestVoteButton}\n            players={players}\n            type=\"leaderVote\"\n            missionTeamSizes={missionTeamSizes}\n          />\n        )}\n        {/* Voting Modal Selected Players */}\n        {showQuestVoteModal && (\n          <Modals\n            roomSessionKey={roomSessionKey}\n            playerSessionKey={playerSessionKey}\n            leaderVotedPlayers={leaderVotedPlayers}\n            setShowQuestVoteButton={setShowQuestVoteButton}\n            setShowQuestVoteModal={setShowQuestVoteModal}\n            showQuestVoteModal={showQuestVoteModal}\n            type=\"questVote\"\n          />\n        )}\n        {/* Selected Players Vote */}\n        {showQuestVoting && (\n          <QuestVote\n            setShowQuestVoting={setShowQuestVoting}\n            roomSessionKey={roomSessionKey}\n            playerSessionKey={playerSessionKey}\n            show={showQuestVoting}\n            phase={phase}\n          />\n        )}\n        {/* Phase Result */}\n        {showResultScreen && (\n          <PhaseResult\n            votes={finalVoteResults}\n            setShowResultScreen={setShowResultScreen}\n            show={showResultScreen}\n            roomSessionKey={roomSessionKey}\n            playerSessionKey={playerSessionKey}\n          />\n        )}\n        {showGameOver && (\n          <GameOver roomSessionKey={roomSessionKey} winner={gameResult} />\n        )}\n        {showExit && (\n          <Modals\n            roomSessionKey={roomSessionKey}\n            playerSessionKey={playerSessionKey}\n            players={players}\n            setShowExit={setShowExit}\n            showExit={showExit}\n            type=\"exit\"\n          />\n        )}\n        {showWaitScreen && (\n          <WaitScreen\n            roomSessionKey={roomSessionKey}\n            leaderVotedPlayers={leaderVotedPlayers}\n            setShowWaitScreen={setShowWaitScreen}\n          />\n        )}\n      </motion.div>\n    </AnimatePresence>\n  );\n}\n\nexport default Game;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,eAAe,CAAEC,MAAM,KAAQ,eAAe,CACvD,OAASC,cAAc,KAAQ,eAAe,CAE9C,MAAO,CAAAC,MAAM,KAAM,WAAW,CAC9B,MAAO,CAAAC,UAAU,KAAM,6BAA6B,CACpD,MAAO,CAAAC,MAAM,KAAM,yBAAyB,CAC5C,MAAO,CAAAC,SAAS,KAAM,4BAA4B,CAClD,MAAO,CAAAC,WAAW,KAAM,8BAA8B,CACtD,MAAO,CAAAC,QAAQ,KAAM,2BAA2B,CAChD,MAAO,CAAAC,UAAU,KAAM,6BAA6B,CACpD,MAAO,CAAAC,cAAc,KAAM,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnD,QAAS,CAAAC,IAAIA,CAAA,CAAG,KAAAC,eAAA,CACd;AACA,KAAM,CAAAC,QAAQ,CAAGnB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAoB,QAAQ,CAAGnB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEoB,IAAK,CAAC,CAAGF,QAAQ,CAACG,KAAK,EAAI,CAAC,CAAC,CACrC,KAAM,CAAEC,CAAE,CAAC,CAAGnB,cAAc,CAAC,CAAC,CAC9B,KAAM,CAAAoB,cAAc,CAAGC,cAAc,CAACC,OAAO,CAAC,gBAAgB,CAAC,CAC/D,KAAM,CAAAC,gBAAgB,CAAGF,cAAc,CAACC,OAAO,CAAC,kBAAkB,CAAC,CACnE;AACA,KAAM,CAACE,aAAa,CAAEC,gBAAgB,CAAC,CAAG9B,QAAQ,CAAC,KAAK,CAAC,CACzD,KAAM,CAAC+B,mBAAmB,CAAEC,sBAAsB,CAAC,CAAGhC,QAAQ,CAAC,KAAK,CAAC,CACrE,KAAM,CAACiC,kBAAkB,CAAEC,qBAAqB,CAAC,CAAGlC,QAAQ,CAAC,KAAK,CAAC,CACnE,KAAM,CAACmC,oBAAoB,CAAEC,uBAAuB,CAAC,CAAGpC,QAAQ,CAAC,KAAK,CAAC,CACvE,KAAM,CAACqC,mBAAmB,CAAEC,sBAAsB,CAAC,CAAGtC,QAAQ,CAAC,KAAK,CAAC,CACrE,KAAM,CAACuC,eAAe,CAAEC,kBAAkB,CAAC,CAAGxC,QAAQ,CAAC,IAAI,CAAC,CAC5D,KAAM,CAACyC,eAAe,CAAEC,kBAAkB,CAAC,CAAG1C,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAAC2C,gBAAgB,CAAEC,mBAAmB,CAAC,CAAG5C,QAAQ,CAAC,KAAK,CAAC,CAC/D,KAAM,CAAC6C,YAAY,CAAEC,eAAe,CAAC,CAAG9C,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAAC+C,QAAQ,CAAEC,WAAW,CAAC,CAAGhD,QAAQ,CAAC,KAAK,CAAC,CAC/C,KAAM,CAACiD,cAAc,CAAEC,iBAAiB,CAAC,CAAGlD,QAAQ,CAAC,KAAK,CAAC,CAC3D,KAAM,CAACmD,QAAQ,CAAEC,WAAW,CAAC,CAAGpD,QAAQ,CAAC,KAAK,CAAC,CAC/C;AACA,KAAM,CAACqD,OAAO,CAAEC,UAAU,CAAC,CAAGtD,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACuD,eAAe,CAAEC,kBAAkB,CAAC,CAAGxD,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAACyD,YAAY,CAAEC,eAAe,CAAC,CAAG1D,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAAC2D,SAAS,CAAEC,YAAY,CAAC,CAAG5D,QAAQ,CAAC,IAAI,CAAC,CAChD,KAAM,CAAC6D,kBAAkB,CAAEC,qBAAqB,CAAC,CAAG9D,QAAQ,CAAC,EAAE,CAAC,CAChE,KAAM,CAAC+D,oBAAoB,CAAEC,uBAAuB,CAAC,CAAGhE,QAAQ,CAAC,EAAE,CAAC,CACpE,KAAM,CAACiE,iBAAiB,CAAEC,mBAAmB,CAAC,CAAGlE,QAAQ,CAAC,EAAE,CAAC,CAC7D,KAAM,CAACmE,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGpE,QAAQ,CAAC,CAAC,CAAC,CAAC,CAC5D,KAAM,CAACqE,aAAa,CAAEC,gBAAgB,CAAC,CAAGtE,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACuE,cAAc,CAAEC,iBAAiB,CAAC,CAAGxE,QAAQ,CAAC,EAAE,CAAC,CACxD;AACA,KAAM,CAACyE,aAAa,CAAEC,gBAAgB,CAAC,CAAG1E,QAAQ,CAAC,CAAC,CACpD,KAAM,CAAC2E,KAAK,CAAEC,QAAQ,CAAC,CAAG5E,QAAQ,CAAC,CAAC,CAAC,CACrC,KAAM,CAAC6E,KAAK,CAAEC,QAAQ,CAAC,CAAG9E,QAAQ,CAAC,CAAC,CAAC,CACrC,KAAM,CAAC+E,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGhF,QAAQ,CAAC,CAAC,CAAC,CAC3D,KAAM,CAACiF,UAAU,CAAEC,aAAa,CAAC,CAAGlF,QAAQ,CAAC,EAAE,CAAC,CAEhD;AACAD,SAAS,CAAC,IAAM,CACdO,MAAM,CAAC6E,EAAE,CACP,oBAAoB,CACpBC,IAAA,EAA4C,IAA3C,CAAEzB,SAAS,CAAEN,OAAO,CAAEkB,cAAe,CAAC,CAAAa,IAAA,CACrCxB,YAAY,CAACD,SAAS,CAAC,CACvBL,UAAU,CAACD,OAAO,CAAC,CACnBmB,iBAAiB,CAACD,cAAc,CAAC,CACnC,CACF,CAAC,CACD,MAAO,IAAMjE,MAAM,CAAC+E,GAAG,CAAC,oBAAoB,CAAC,CAC/C,CAAC,CAAE,EAAE,CAAC,CAEN;AACAtF,SAAS,CAAC,IAAM,CACdO,MAAM,CAAC6E,EAAE,CACP,cAAc,CACdG,KAAA,EAAoE,IAAnE,CAAEC,WAAW,CAAEZ,KAAK,CAAEE,KAAK,CAAEE,gBAAgB,CAAEV,aAAc,CAAC,CAAAiB,KAAA,CAC7DZ,gBAAgB,CAACa,WAAW,CAAC,CAC7BX,QAAQ,CAACD,KAAK,CAAC,CACfnB,kBAAkB,CAAC,EAAE,CAAC,CACtBQ,uBAAuB,CAAC,EAAE,CAAC,CAC3BF,qBAAqB,CAAC,EAAE,CAAC,CACzBQ,gBAAgB,CAACD,aAAa,CAAC,CAC/BW,mBAAmB,CAACD,gBAAgB,CAAC,CACrCvC,kBAAkB,CAAC,IAAI,CAAC,CACxBY,WAAW,CAAC,KAAK,CAAC,CAClB,GAAIyB,KAAK,CAAEC,QAAQ,CAACD,KAAK,CAAC,CAC5B,CACF,CAAC,CACD,MAAO,IAAMvE,MAAM,CAAC+E,GAAG,CAAC,cAAc,CAAC,CACzC,CAAC,CAAE,EAAE,CAAC,CAEN;AACAtF,SAAS,CAAC,IAAM,CACdO,MAAM,CAAC6E,EAAE,CAAC,YAAY,CAAEK,KAAA,EAA8B,IAA7B,CAAEC,OAAO,CAAEC,IAAI,CAAEC,KAAM,CAAC,CAAAH,KAAA,CAC/ChC,kBAAkB,CAAC,EAAE,CAAC,CACtBpB,uBAAuB,CAAC,IAAI,CAAC,CAC7B4B,uBAAuB,CAAC0B,IAAI,CAAC,CAC7BtC,WAAW,CAAC,KAAK,CAAC,CACpB,CAAC,CAAC,CACF,MAAO,IAAM9C,MAAM,CAAC+E,GAAG,CAAC,YAAY,CAAC,CACvC,CAAC,CAAE,EAAE,CAAC,CAEN;AACAtF,SAAS,CAAC,IAAM,CACdO,MAAM,CAAC6E,EAAE,CAAC,cAAc,CAAES,KAAA,EAAsB,IAArB,CAAEC,YAAa,CAAC,CAAAD,KAAA,CACzC9B,qBAAqB,CAAC+B,YAAY,CAAC,CACnCvD,sBAAsB,CAAC,IAAI,CAAC,CAC5BF,uBAAuB,CAAC,KAAK,CAAC,CAChC,CAAC,CAAC,CACF,MAAO,IAAM9B,MAAM,CAAC+E,GAAG,CAAC,cAAc,CAAC,CACzC,CAAC,CAAE,EAAE,CAAC,CAEN;AACAtF,SAAS,CAAC,IAAM,CACdO,MAAM,CAAC6E,EAAE,CAAC,aAAa,CAAEW,KAAA,EAAuB,IAAtB,CAAEC,MAAM,CAAEJ,KAAM,CAAC,CAAAG,KAAA,CACzCE,UAAU,CAAC,IAAM,CACf,GAAID,MAAM,GAAK,SAAS,CAAE,CACxBvD,kBAAkB,CAAC,IAAI,CAAC,CACxBlC,MAAM,CAAC2F,IAAI,CAAC,YAAY,CAAE,CAAExE,cAAc,CAAEG,gBAAiB,CAAC,CAAC,CACjE,CACF,CAAC,CAAE,IAAI,CAAC,CACV,CAAC,CAAC,CACF,MAAO,IAAMtB,MAAM,CAAC+E,GAAG,CAAC,aAAa,CAAC,CACxC,CAAC,CAAE,CAAC5D,cAAc,CAAEoC,kBAAkB,CAAEjC,gBAAgB,CAAC,CAAC,CAE1D;AACA7B,SAAS,CAAC,IAAM,CACdO,MAAM,CAAC6E,EAAE,CAAC,wBAAwB,CAAEe,KAAA,EAAmC,IAAlC,CAAEL,YAAY,CAAEM,WAAY,CAAC,CAAAD,KAAA,CAChE1D,kBAAkB,CAAC,KAAK,CAAC,CACzBF,sBAAsB,CAAC,KAAK,CAAC,CAE7B,GAAIuD,YAAY,CAACO,QAAQ,CAACxE,gBAAgB,CAAC,CAAE,CAC3Cc,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CAEA,GAAIyD,WAAW,CAACC,QAAQ,CAACxE,gBAAgB,CAAC,CAAE,CAC1CsB,iBAAiB,CAAC,IAAI,CAAC,CACzB,CACF,CAAC,CAAC,CACF,MAAO,IAAM5C,MAAM,CAAC+E,GAAG,CAAC,wBAAwB,CAAC,CACnD,CAAC,CAAE,CAACzD,gBAAgB,CAAEyB,OAAO,CAAC,CAAC,CAE/B;AACAtD,SAAS,CAAC,IAAM,CACdO,MAAM,CAAC6E,EAAE,CAAC,eAAe,CAAEkB,KAAA,EAA+B,IAA9B,CAAEN,MAAM,CAAEN,OAAO,CAAEa,IAAK,CAAC,CAAAD,KAAA,CACnD3C,eAAe,CAAE6C,IAAI,EAAK,CAAC,GAAGA,IAAI,CAAER,MAAM,CAAC,CAAC,CAC5C7B,mBAAmB,CAAEqC,IAAI,EAAK,CAAC,GAAGA,IAAI,CAAER,MAAM,CAAC,CAAC,CAChD3B,mBAAmB,CAAC,CAAEqB,OAAO,CAAEA,OAAO,CAAEa,IAAI,CAAEA,IAAK,CAAC,CAAC,CACrDpD,iBAAiB,CAAC,KAAK,CAAC,CACxBN,mBAAmB,CAAC,IAAI,CAAC,CAC3B,CAAC,CAAC,CAEF,MAAO,IAAMtC,MAAM,CAAC+E,GAAG,CAAC,eAAe,CAAC,CAC1C,CAAC,CAAE,CACDpB,iBAAiB,CACjBE,gBAAgB,CAACmC,IAAI,CACrBnC,gBAAgB,CAACsB,OAAO,CACxBZ,KAAK,CACN,CAAC,CAEF;AACA9E,SAAS,CAAC,IAAM,CACdO,MAAM,CAAC6E,EAAE,CAAC,WAAW,CAAEqB,KAAA,EAAoC,IAAnC,CAAET,MAAM,CAAEU,QAAQ,CAAEC,QAAS,CAAC,CAAAF,KAAA,CACpD1D,eAAe,CAAC,IAAI,CAAC,CACrBoC,aAAa,CAACa,MAAM,CAAC,CACvB,CAAC,CAAC,CACF,MAAO,IAAMzF,MAAM,CAAC+E,GAAG,CAAC,WAAW,CAAC,CACtC,CAAC,CAAE,EAAE,CAAC,CAEN;AACAtF,SAAS,CAAC,IAAM,CACdO,MAAM,CAAC6E,EAAE,CAAC,cAAc,CAAE,IAAM,CAC9BzD,cAAc,CAACiF,UAAU,CAAC,gBAAgB,CAAC,CAC3CjF,cAAc,CAACiF,UAAU,CAAC,kBAAkB,CAAC,CAC7CtF,QAAQ,CAAC,GAAG,CAAE,CAAEE,KAAK,CAAE,CAAED,IAAK,CAAE,CAAC,CAAC,CACpC,CAAC,CAAC,CACF,MAAO,IAAMhB,MAAM,CAAC+E,GAAG,CAAC,cAAc,CAAC,CACzC,CAAC,CAAE,CAAC/D,IAAI,CAAED,QAAQ,CAAC,CAAC,CAEpB,GAAI,CAACsC,SAAS,CAAE,CACd,mBACE5C,IAAA,CAACZ,eAAe,EAAAyG,QAAA,cACd7F,IAAA,CAACX,MAAM,CAACyG,GAAG,EACTC,SAAS,CAAC,kEAAkE,CAC5EC,KAAK,CAAE,CACLC,eAAe,CAAE,6CAA6C,CAC9DC,cAAc,CAAE,OAAO,CACvBC,kBAAkB,CAAE,QACtB,CAAE,CACFC,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAE,CAAE,CACxBC,OAAO,CAAE,CAAED,OAAO,CAAE,CAAE,CAAE,CACxBE,IAAI,CAAE,CAAEF,OAAO,CAAE,CAAE,CAAE,CACrBG,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAI,CAAE,CAAAZ,QAAA,cAE9B7F,IAAA,OAAI+F,SAAS,CAAC,UAAU,CAAAF,QAAA,CAAEpF,CAAC,CAAC,0BAA0B,CAAC,CAAK,CAAC,CACnD,CAAC,CACE,CAAC,CAEtB,CAEA,KAAM,CAAAiG,QAAQ,CAAG7F,gBAAgB,GAAK6C,aAAa,CAEnD,mBACE1D,IAAA,CAACZ,eAAe,EAAAyG,QAAA,cACd3F,KAAA,CAACb,MAAM,CAACyG,GAAG,EACTC,SAAS,CAAC,gEAAgE,CAC1EC,KAAK,CAAE,CACLC,eAAe,CAAE,iCAAiC,CAClDC,cAAc,CAAE,OAAO,CACvBC,kBAAkB,CAAE,QACtB,CAAE,CACFC,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAEM,KAAK,CAAE,IAAI,CAAEC,CAAC,CAAE,EAAG,CAAE,CAC5CN,OAAO,CAAE,CAAED,OAAO,CAAE,CAAC,CAAEM,KAAK,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAE,CAAE,CACxCL,IAAI,CAAE,CAAEF,OAAO,CAAE,CAAC,CAAEM,KAAK,CAAE,IAAI,CAAEC,CAAC,CAAE,EAAG,CAAE,CACzCJ,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEI,IAAI,CAAE,WAAY,CAAE,CAAAhB,QAAA,eAEjD7F,IAAA,QAAK+F,SAAS,CAAC,qBAAqB,CAAAF,QAAA,cAClC7F,IAAA,QACE8G,GAAG,CAAC,uBAAuB,CAC3BC,GAAG,CAAC,QAAQ,CACZhB,SAAS,CAAC,eAAe,CACzBiB,OAAO,CAAGC,CAAC,EAAMA,CAAC,CAACC,MAAM,CAACJ,GAAG,CAAG,qBAAuB,CACxD,CAAC,CACC,CAAC,cAGN5G,KAAA,QAAK6F,SAAS,CAAC,0CAA0C,CAAAF,QAAA,eAEvD3F,KAAA,QAAK6F,SAAS,CAAC,2DAA2D,CAAAF,QAAA,eAExE7F,IAAA,QAAK+F,SAAS,CAAC,kBAAkB,CAAAF,QAAA,cAC/B7F,IAAA,WACEmH,OAAO,CAAEA,CAAA,GAAMlF,WAAW,CAAC,IAAI,CAAE,CACjC8D,SAAS,4HAA8H,CAAAF,QAAA,CAEtIpF,CAAC,CAAC,WAAW,CAAC,CACT,CAAC,CACN,CAAC,cACNT,IAAA,QAAK+F,SAAS,CAAC,8CAA8C,CAAAF,QAAA,cAC3D3F,KAAA,QAAK6F,SAAS,CAAC,uFAAuF,CAAAF,QAAA,eACpG3F,KAAA,OAAI6F,SAAS,CAAC,gCAAgC,CAAAF,QAAA,EAC3CpF,CAAC,CAAC,YAAY,CAAC,CAAC,GAAC,CAACqD,KAAK,CAAC,KAAG,CAACrD,CAAC,CAAC,YAAY,CAAC,CAAC,GAAC,CAACmD,KAAK,EAClD,CAAC,cACL5D,IAAA,QAAK+F,SAAS,CAAC,2BAA2B,CAAAF,QAAA,CACvC,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAACuB,GAAG,CAAEC,QAAQ,EAAK,CACjC,GAAI,CAAAC,WAAW,CAAG,aAAa,CAC/B,GAAID,QAAQ,GAAKvD,KAAK,CAAE,CACtBwD,WAAW,CAAG,eAAe,CAC/B,CAAC,IAAM,IAAID,QAAQ,CAAGvD,KAAK,CAAE,CAC3B,KAAM,CAAAkB,MAAM,CAAGtC,YAAY,CAAC2E,QAAQ,CAAG,CAAC,CAAC,CACzCC,WAAW,CACTtC,MAAM,GAAK,SAAS,CAAG,cAAc,CAAG,YAAY,CACxD,CACA,mBACEhF,IAAA,QAEE+F,SAAS,yBAAAwB,MAAA,CAA0BD,WAAW,kEAAiE,CAAAzB,QAAA,CAE9GwB,QAAQ,EAHJA,QAIF,CAAC,CAEV,CAAC,CAAC,CACC,CAAC,EACH,CAAC,CACH,CAAC,cACNrH,IAAA,QAAK+F,SAAS,CAAC,kBAAkB,CAAAF,QAAA,cAC/B7F,IAAA,CAACF,cAAc,EACb0H,YAAY,CAAE/G,CAAC,CAAC,WAAW,CAAE,CAC7B6C,aAAa,CAAEA,aAAc,CAC7BE,cAAc,CAAEA,cAAe,CAChC,CAAC,CACC,CAAC,EACH,CAAC,cAGNtD,KAAA,QAAK6F,SAAS,CAAC,yBAAyB,CAAAF,QAAA,eACtC3F,KAAA,QAAK6F,SAAS,CAAC,2FAA2F,CAAAF,QAAA,eACxG3F,KAAA,QAAK6F,SAAS,CAAC,uCAAuC,CAAAF,QAAA,eACpD7F,IAAA,OAAI+F,SAAS,CAAC,4BAA4B,CAAAF,QAAA,CAAEtF,IAAI,CAAK,CAAC,CACrDmG,QAAQ,eACP1G,IAAA,QACE8G,GAAG,CAAC,mBAAmB,CACvBC,GAAG,CAAC,QAAQ,CACZhB,SAAS,CAAC,mBAAmB,CAC7BiB,OAAO,CAAGC,CAAC,EAAMA,CAAC,CAACC,MAAM,CAACJ,GAAG,CAAG,qBAAuB,CACxD,CACF,EACE,CAAC,cACN9G,IAAA,QACE8G,GAAG,YAAAS,MAAA,CAAa3E,SAAS,CAACrC,IAAI,CAC3BkH,WAAW,CAAC,CAAC,CACbC,OAAO,CAAC,MAAM,CAAE,GAAG,CAAC,QAAO,CAC9BX,GAAG,CAAEnE,SAAS,CAACrC,IAAK,CACpBwF,SAAS,CAAC,iCAAiC,CAC3CiB,OAAO,CAAGC,CAAC,EAAMA,CAAC,CAACC,MAAM,CAACJ,GAAG,CAAG,qBAAuB,CACxD,CAAC,cACF9G,IAAA,OAAI+F,SAAS,CAAC,mCAAmC,CAAAF,QAAA,CAC9CjD,SAAS,CAACrC,IAAI,CACb,CAAC,cACLP,IAAA,MAAG+F,SAAS,CAAC,4BAA4B,CAAAF,QAAA,CACtCpF,CAAC,4BAAA8G,MAAA,CAA4B3E,SAAS,CAACrC,IAAI,CAAE,CAAC,CAC9C,CAAC,cACJL,KAAA,MAAG6F,SAAS,CAAC,cAAc,CAAAF,QAAA,EACxBpF,CAAC,CAAC,WAAW,CAAC,CAAC,GAAC,CAAC,GAAG,cACrBT,IAAA,SACE+F,SAAS,CACPnD,SAAS,CAAC+B,IAAI,GAAK,MAAM,CAAG,eAAe,CAAG,cAC/C,CAAAkB,QAAA,CAEAjD,SAAS,CAAC+B,IAAI,GAAK,MAAM,CAAGlE,CAAC,CAAC,WAAW,CAAC,CAAGA,CAAC,CAAC,WAAW,CAAC,CACxD,CAAC,EACN,CAAC,EACD,CAAC,cAGNP,KAAA,QACE6F,SAAS,CAAC,uGAAuG,CACjHC,KAAK,CAAE,CAAE2B,mBAAmB,CAAE,cAAe,CAAE,CAAA9B,QAAA,eAE/C3F,KAAA,QACE6F,SAAS,CAAC,kFAAkF,CAC5FC,KAAK,CAAE,CAAE2B,mBAAmB,CAAE,cAAe,CAAE,CAAA9B,QAAA,eAE/C7F,IAAA,OAAI+F,SAAS,CAAC,aAAa,CAAAF,QAAA,CAAEpF,CAAC,CAAC,eAAe,CAAC,CAAK,CAAC,cACrDT,IAAA,OAAI+F,SAAS,CAAC,kBAAkB,CAAAF,QAAA,CAAEpF,CAAC,CAAC,WAAW,CAAC,CAAK,CAAC,cACtDT,IAAA,OAAI+F,SAAS,CAAC,kBAAkB,CAAAF,QAAA,CAAC,GAAC,CAAI,CAAC,EACpC,CAAC,cACN7F,IAAA,QACE+F,SAAS,CAAC,gDAAgD,CAC1DC,KAAK,CAAE,CAAE2B,mBAAmB,CAAE,cAAe,CAAE,CAAA9B,QAAA,CAE9CvD,OAAO,CAAC8E,GAAG,CAAEQ,MAAM,eAClB1H,KAAA,CAACnB,KAAK,CAAC8I,QAAQ,EAAAhC,QAAA,eACb7F,IAAA,QAAK+F,SAAS,CAAC,aAAa,CAAAF,QAAA,CAAE+B,MAAM,CAACrH,IAAI,CAAM,CAAC,cAChDP,IAAA,QAAK+F,SAAS,CAAC,kBAAkB,CAAAF,QAAA,CAC9B+B,MAAM,CAACE,WAAW,GAAK,MAAM,CAC1B,MAAM,CACNF,MAAM,CAACE,WAAW,GAAK,gBAAgB,CACvC,KAAK,CACL,EAAE,CACH,CAAC,cACN9H,IAAA,QAAK+F,SAAS,CAAC,aAAa,CAAAF,QAAA,CACzB+B,MAAM,CAAC/G,gBAAgB,GAAK6C,aAAa,eACxC1D,IAAA,QACE8G,GAAG,CAAC,mBAAmB,CACvBC,GAAG,CAAC,QAAQ,CACZhB,SAAS,CAAC,iBAAiB,CAC3BiB,OAAO,CAAGC,CAAC,EACRA,CAAC,CAACC,MAAM,CAACJ,GAAG,CAAG,qBACjB,CACF,CACF,CACE,CAAC,GApBac,MAAM,CAAC/G,gBAqBZ,CACjB,CAAC,CACC,CAAC,EACH,CAAC,EACH,CAAC,cAGNX,KAAA,QAAK6F,SAAS,CAAC,MAAM,CAAAF,QAAA,EAClBrE,eAAe,eACdxB,IAAA,WACEmH,OAAO,CAAEA,CAAA,GAAMpG,gBAAgB,CAAC,IAAI,CAAE,CACtCgH,QAAQ,CAAE3F,QAAS,CACnB2D,SAAS,0CAAAwB,MAAA,CACPnF,QAAQ,CACJ,gCAAgC,CAChC,iCAAiC,CACpC,CAAAyD,QAAA,CAEFzD,QAAQ,CACL3B,CAAC,CAAC,0BAA0B,CAAC,CAC7BA,CAAC,CAAC,uBAAuB,CAAC,CACxB,CACT,CACAa,mBAAmB,eAClBtB,IAAA,WACEmH,OAAO,CAAEA,CAAA,GAAMhG,qBAAqB,CAAC,IAAI,CAAE,CAC3C4E,SAAS,CAAC,uEAAuE,CAAAF,QAAA,CAEhFpF,CAAC,CAAC,qBAAqB,CAAC,CACnB,CACT,CACAiG,QAAQ,EAAItF,oBAAoB,eAC/BpB,IAAA,WACEmH,OAAO,CAAEA,CAAA,GAAMlG,sBAAsB,CAAC,IAAI,CAAE,CAC5C8E,SAAS,CAAC,kEAAkE,CAAAF,QAAA,CAE3EpF,CAAC,CAAC,iBAAiB,CAAC,CACf,CACT,EACE,CAAC,EACH,CAAC,cAGNP,KAAA,QAAK6F,SAAS,CAAC,mCAAmC,CAAAF,QAAA,eAEhD3F,KAAA,QAAK6F,SAAS,CAAC,+JAA+J,CAAAF,QAAA,eAC5K3F,KAAA,OAAI6F,SAAS,CAAC,4BAA4B,CAAAF,QAAA,EACvCpF,CAAC,CAAC,YAAY,CAAC,CAAC,GAAC,CAACqD,KAAK,CAAC,KAAG,CAACrD,CAAC,CAAC,YAAY,CAAC,CAAC,GAAC,CAACmD,KAAK,EAClD,CAAC,cACL5D,IAAA,QAAK+F,SAAS,CAAC,2BAA2B,CAAAF,QAAA,CACvC,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAACuB,GAAG,CAAEC,QAAQ,EAAK,CACjC,GAAI,CAAAC,WAAW,CAAG,aAAa,CAC/B,GAAID,QAAQ,GAAKvD,KAAK,CAAE,CACtBwD,WAAW,CAAG,eAAe,CAC/B,CAAC,IAAM,IAAID,QAAQ,CAAGvD,KAAK,CAAE,CAC3B,KAAM,CAAAkB,MAAM,CAAGtC,YAAY,CAAC2E,QAAQ,CAAG,CAAC,CAAC,CACzCC,WAAW,CACTtC,MAAM,GAAK,SAAS,CAAG,aAAa,CAAG,YAAY,CACvD,CACA,mBACEhF,IAAA,QAEE+F,SAAS,yBAAAwB,MAAA,CAA0BD,WAAW,kEAAiE,CAAAzB,QAAA,CAE9GwB,QAAQ,EAHJA,QAIF,CAAC,CAEV,CAAC,CAAC,CACC,CAAC,EACH,CAAC,cAGNnH,KAAA,QAAK6F,SAAS,CAAC,gHAAgH,CAAAF,QAAA,eAC7H3F,KAAA,QAAK6F,SAAS,CAAC,uCAAuC,CAAAF,QAAA,eACpD7F,IAAA,OAAI+F,SAAS,CAAC,SAAS,CAAAF,QAAA,EAAAzF,eAAA,CAAEC,QAAQ,CAACG,KAAK,UAAAJ,eAAA,iBAAdA,eAAA,CAAgBG,IAAI,CAAK,CAAC,CAClDmG,QAAQ,eACP1G,IAAA,QACE8G,GAAG,CAAC,mBAAmB,CACvBC,GAAG,CAAC,QAAQ,CACZhB,SAAS,CAAC,cAAc,CACxBiB,OAAO,CAAGC,CAAC,EAAMA,CAAC,CAACC,MAAM,CAACJ,GAAG,CAAG,qBAAuB,CACxD,CACF,EACE,CAAC,cACN9G,IAAA,QACE8G,GAAG,YAAAS,MAAA,CAAa3E,SAAS,CAACrC,IAAI,CAC3BkH,WAAW,CAAC,CAAC,CACbC,OAAO,CAAC,MAAM,CAAE,GAAG,CAAC,QAAO,CAC9BX,GAAG,CAAEnE,SAAS,CAACrC,IAAK,CACpBwF,SAAS,CAAC,8BAA8B,CACxCiB,OAAO,CAAGC,CAAC,EAAMA,CAAC,CAACC,MAAM,CAACJ,GAAG,CAAG,qBAAuB,CACxD,CAAC,cACF9G,IAAA,OAAI+F,SAAS,CAAC,oCAAoC,CAAAF,QAAA,CAC/CjD,SAAS,CAACrC,IAAI,CACb,CAAC,cACLP,IAAA,MAAG+F,SAAS,CAAC,oBAAoB,CAAAF,QAAA,CAAEjD,SAAS,CAACoF,WAAW,CAAI,CAAC,cAC7D9H,KAAA,MAAG6F,SAAS,CAAC,cAAc,CAAAF,QAAA,EACxBpF,CAAC,CAAC,WAAW,CAAC,CAAC,GAAC,CAAC,GAAG,cACrBT,IAAA,SACE+F,SAAS,CACPnD,SAAS,CAAC+B,IAAI,GAAK,MAAM,CAAG,eAAe,CAAG,cAC/C,CAAAkB,QAAA,CAEAjD,SAAS,CAAC+B,IAAI,GAAK,MAAM,CAAGlE,CAAC,CAAC,WAAW,CAAC,CAAGA,CAAC,CAAC,WAAW,CAAC,CACxD,CAAC,EACN,CAAC,EACD,CAAC,cAGNP,KAAA,QAAK6F,SAAS,CAAC,gHAAgH,CAAAF,QAAA,eAC7H3F,KAAA,QAAK6F,SAAS,CAAC,0EAA0E,CAAAF,QAAA,eACvF7F,IAAA,OAAA6F,QAAA,CAAKpF,CAAC,CAAC,eAAe,CAAC,CAAK,CAAC,cAC7BT,IAAA,OAAA6F,QAAA,CAAI,MAAI,CAAI,CAAC,cACb7F,IAAA,OAAA6F,QAAA,CAAKpF,CAAC,CAAC,cAAc,CAAC,CAAK,CAAC,EACzB,CAAC,cACNT,IAAA,QAAK+F,SAAS,CAAC,gDAAgD,CAAAF,QAAA,CAC5DvD,OAAO,CAAC8E,GAAG,CAAEQ,MAAM,eAClB1H,KAAA,CAACnB,KAAK,CAAC8I,QAAQ,EAAAhC,QAAA,eACb7F,IAAA,QAAK+F,SAAS,CAAC,aAAa,CAAAF,QAAA,CAAE+B,MAAM,CAACrH,IAAI,CAAM,CAAC,cAChDP,IAAA,QAAK+F,SAAS,CAAC,aAAa,CAAAF,QAAA,CACzB+B,MAAM,CAACE,WAAW,GAAK,MAAM,CAC1B,MAAM,CACNF,MAAM,CAACE,WAAW,GAAK,gBAAgB,CACvC,gBAAgB,CAChB,EAAE,CACH,CAAC,cACN9H,IAAA,QAAK+F,SAAS,CAAC,aAAa,CAAAF,QAAA,CACzB+B,MAAM,CAAC/G,gBAAgB,GAAK6C,aAAa,eACxC1D,IAAA,QACE8G,GAAG,CAAC,mBAAmB,CACvBC,GAAG,CAAC,QAAQ,CACZhB,SAAS,CAAC,yBAAyB,CACnCiB,OAAO,CAAGC,CAAC,EAAMA,CAAC,CAACC,MAAM,CAACJ,GAAG,CAAG,qBAAuB,CACxD,CACF,CACE,CAAC,GAlBac,MAAM,CAAC/G,gBAmBZ,CACjB,CAAC,CACC,CAAC,EACH,CAAC,EACH,CAAC,cAGNb,IAAA,CAACR,UAAU,EACT8C,OAAO,CAAEA,OAAQ,CACjBU,oBAAoB,CAAEA,oBAAqB,CAC3CF,kBAAkB,CAAEA,kBAAmB,CACvC4D,QAAQ,CAAEA,QAAS,CACpB,CAAC,cAGFxG,KAAA,QAAK6F,SAAS,CAAC,yFAAyF,CAAAF,QAAA,EACrGrE,eAAe,eACdxB,IAAA,WACEmH,OAAO,CAAEA,CAAA,GAAMpG,gBAAgB,CAAC,IAAI,CAAE,CACtCgH,QAAQ,CAAE3F,QAAS,CACnB2D,SAAS,0CAAAwB,MAAA,CACPnF,QAAQ,CACJ,gCAAgC,CAChC,iCAAiC,CACpC,CAAAyD,QAAA,CAEFzD,QAAQ,CACL3B,CAAC,CAAC,0BAA0B,CAAC,CAC7BA,CAAC,CAAC,uBAAuB,CAAC,CACxB,CACT,CACAa,mBAAmB,eAClBtB,IAAA,WACEmH,OAAO,CAAEA,CAAA,GAAMhG,qBAAqB,CAAC,IAAI,CAAE,CAC3C4E,SAAS,CAAC,uEAAuE,CAAAF,QAAA,CAEhFpF,CAAC,CAAC,qBAAqB,CAAC,CACnB,CACT,CACAiG,QAAQ,EAAItF,oBAAoB,eAC/BpB,IAAA,WACEmH,OAAO,CAAEA,CAAA,GAAMlG,sBAAsB,CAAC,IAAI,CAAE,CAC5C8E,SAAS,CAAC,kEAAkE,CAAAF,QAAA,CAE3EpF,CAAC,CAAC,iBAAiB,CAAC,CACf,CACT,EACE,CAAC,CAELK,aAAa,eACZd,IAAA,CAACP,MAAM,EACLiB,cAAc,CAAEA,cAAe,CAC/BG,gBAAgB,CAAEA,gBAAiB,CACnC4B,kBAAkB,CAAEA,kBAAmB,CACvCD,eAAe,CAAEA,eAAgB,CACjCzB,gBAAgB,CAAEA,gBAAiB,CACnCU,kBAAkB,CAAEA,kBAAmB,CACvCwG,aAAa,CAAEnH,aAAc,CAC7BwB,OAAO,CAAEA,OAAQ,CACjB4F,IAAI,CAAC,SAAS,CACdlE,gBAAgB,CAAEA,gBAAiB,CACpC,CACF,CAEAhD,mBAAmB,eAClBhB,IAAA,CAACP,MAAM,EACLiB,cAAc,CAAEA,cAAe,CAC/BG,gBAAgB,CAAEA,gBAAiB,CACnC4B,kBAAkB,CAAEA,kBAAmB,CACvCD,eAAe,CAAEA,eAAgB,CACjCzB,gBAAgB,CAAEA,gBAAiB,CACnCU,kBAAkB,CAAEA,kBAAmB,CACvCR,sBAAsB,CAAEA,sBAAuB,CAC/CD,mBAAmB,CAAEA,mBAAoB,CACzCO,sBAAsB,CAAEA,sBAAuB,CAC/Ce,OAAO,CAAEA,OAAQ,CACjB4F,IAAI,CAAC,YAAY,CACjBlE,gBAAgB,CAAEA,gBAAiB,CACpC,CACF,CAEA9C,kBAAkB,eACjBlB,IAAA,CAACP,MAAM,EACLiB,cAAc,CAAEA,cAAe,CAC/BG,gBAAgB,CAAEA,gBAAiB,CACnCiC,kBAAkB,CAAEA,kBAAmB,CACvCvB,sBAAsB,CAAEA,sBAAuB,CAC/CJ,qBAAqB,CAAEA,qBAAsB,CAC7CD,kBAAkB,CAAEA,kBAAmB,CACvCgH,IAAI,CAAC,WAAW,CACjB,CACF,CAEAxG,eAAe,eACd1B,IAAA,CAACN,SAAS,EACRiC,kBAAkB,CAAEA,kBAAmB,CACvCjB,cAAc,CAAEA,cAAe,CAC/BG,gBAAgB,CAAEA,gBAAiB,CACnCsH,IAAI,CAAEzG,eAAgB,CACtBoC,KAAK,CAAEA,KAAM,CACd,CACF,CAEAlC,gBAAgB,eACf5B,IAAA,CAACL,WAAW,EACViF,KAAK,CAAExB,gBAAiB,CACxBvB,mBAAmB,CAAEA,mBAAoB,CACzCsG,IAAI,CAAEvG,gBAAiB,CACvBlB,cAAc,CAAEA,cAAe,CAC/BG,gBAAgB,CAAEA,gBAAiB,CACpC,CACF,CACAiB,YAAY,eACX9B,IAAA,CAACJ,QAAQ,EAACc,cAAc,CAAEA,cAAe,CAAC0H,MAAM,CAAElE,UAAW,CAAE,CAChE,CACAlC,QAAQ,eACPhC,IAAA,CAACP,MAAM,EACLiB,cAAc,CAAEA,cAAe,CAC/BG,gBAAgB,CAAEA,gBAAiB,CACnCyB,OAAO,CAAEA,OAAQ,CACjBL,WAAW,CAAEA,WAAY,CACzBD,QAAQ,CAAEA,QAAS,CACnBkG,IAAI,CAAC,MAAM,CACZ,CACF,CACAhG,cAAc,eACblC,IAAA,CAACH,UAAU,EACTa,cAAc,CAAEA,cAAe,CAC/BoC,kBAAkB,CAAEA,kBAAmB,CACvCX,iBAAiB,CAAEA,iBAAkB,CACtC,CACF,EACS,CAAC,CACE,CAAC,CAEtB,CAEA,cAAe,CAAAhC,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}